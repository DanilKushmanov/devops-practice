# devops-practice
Репозиторий для хранения IaC, суть репозитория - отработка навыков развертывания инфраструктуры, её автоматической настройки.

#Общий план работ:
#Развернуть VPS в облаке, используя Terraform:
  - Использовать любого провайдера VPS, поддерживающего работу с Terraform - в нашем случае выбор упал на Yandex.Cloud
  - IaC должен отслеживаться в Git через GitHub.
  - Со звездочкой: не хардкодить ключи API нигде в манифесте Terraform.
  - Со звездочкой: Можно хранить состояние локально, не подгружая его в Git, но можно воспользоваться бесплатным хранилищем от HashiCorp в Terraform Cloud.
  - Со звездочкой: Использовать Atlantis с аккаунтом GitHub для запуска Terraform через pull requests. 
#Настроить DNS используя Terraform:
  - Привязать доменное имя к IP, выданному провайдером VPS (Yandex.Cloud NAT Address).
#Настроить VPS используя Ansible:
  - Залогиниться на VPS, обновиться, настроить пользователей, поставить пакеты, повозиться с конфигами и т.д.
  - В самом конце поставить Web-server (Nginx или Apache) и настроить: прописать конфиги где и как надо, и т.д.
  - IaC должен отслеживаться в Git через GitHub.
  - Со звездочкой: Получить TLS сертификат через Let's Encrypt и прописать редирект с 80 порта на 443.
  - Со звездочкой: изучить, что такое идемпотентность. (???)
  - Со звездочкой: Instead of making one big playbook, try to use roles
#Создать статический сайт локально на своём ПК: - другой репозиторий
  - Выбрать генератор статического сайта: есть вариант с Hugo, но доступен вообще весь арсенал. :)
  - Убедиться, что сайт работает локально и на него можно зайти через localhost.
  - Код проекта хранить в отдельном репозитории через Git.
#Развернуть сайт на VPS используя Setup GitHub Actions:
  - Автоматизировать деплой сайта из GitHub на VPS в облаке. Деплой должен происходить по определенным триггерам: каждый коммит, по расписанию и т.д.
  - Со звездочкой: Use GitHub Actions to lint your Terraform code with tflint and Ansible code with ansible-lint
  - Со звездочкой: Настроить бесплатный GitHub Pages домен и пушить dev/test версию туда.
  - Со звездочкой: Настроить решение по управлению зависимостями (вроде Renovate или Dependabot) для автоматического обновления зависимостей.
